<launch>
  <arg name="bagfile" default="$(find-pkg-share moveit2_tutorials)/bags/perception_tutorial.bag" />
  <arg name="launchfile_panda"
       default="$(find-pkg-share moveit_resources_panda_moveit_config)/launch/demo.launch.py" />

  <!-- Play the rosbag that contains the pointcloud data -->
  <executable cmd="ros2 bag play -l $(var bagfile)" output="screen" />

  <include file="$(var launchfile_panda)" />

  <!-- If needed, broadcast static tf for robot root -->
  <node pkg="tf2_ros" exec="static_transform_publisher" name="to_panda" args="0 0 0 0 0 0  world panda_link0" />
  <node pkg="tf2_ros" exec="static_transform_publisher" name="to_camera" args="0.115 0.427 0.570 0 0.2 1.92 camera_rgb_optical_frame world" />
</launch>
